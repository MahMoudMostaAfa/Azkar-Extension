<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ุฃุฐูุงุฑ ุงููุณูู - Azkar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Amiri+Quran&family=Noto+Naskh+Arabic:wght@400;500;600;700&family=Cairo:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-content">
          <h1 class="app-title" data-i18n="appTitle">๐ฟ ุฃุฐูุงุฑ ุงููุณูู</h1>
          <div class="header-actions">
            <button
              id="settingsBtn"
              class="icon-btn"
              data-i18n-title="settings"
              title="ุงูุฅุนุฏุงุฏุงุช"
            >
              โ๏ธ
            </button>
            <button id="langToggle" class="icon-btn" title="Language">
              EN
            </button>
          </div>
        </div>
        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
          <button class="nav-tab active" data-tab="home" data-i18n="tabHome">
            ๐ ุงูุฑุฆูุณูุฉ
          </button>
          <button
            class="nav-tab"
            data-tab="categories"
            data-i18n="tabCategories"
          >
            ๐ ุงูุชุตูููุงุช
          </button>
          <button class="nav-tab" data-tab="progress" data-i18n="tabProgress">
            ๐ ุงูุชูุฏู
          </button>
          <button class="nav-tab" data-tab="hadith" data-i18n="tabHadith">
            ๐ ุงูุฃุญุงุฏูุซ
          </button>
          <button class="nav-tab" data-tab="radio" data-i18n="tabRadio">
            ๐ป ุฅุฐุงุนุฉ
          </button>
          <button class="nav-tab" data-tab="custom" data-i18n="tabCustom">
            โ๏ธ ูุฎุตุต
          </button>
        </nav>
      </header>

      <!-- Home Tab -->
      <main id="homeTab" class="tab-content active">
        <!-- Hijri Date -->
        <div class="hijri-date-bar" id="hijriDateBar">
          <span class="hijri-icon">๐</span>
          <span class="hijri-text" id="hijriDateText">Loading...</span>
        </div>

        <!-- Prayer Times Strip -->
        <div class="prayer-times-strip" id="prayerTimesStrip">
          <div class="prayer-mini" id="pt-fajr" data-prayer="fajr">
            <span class="pt-name" data-i18n="fajr">ุงููุฌุฑ</span>
            <span class="pt-time">--:--</span>
            <span class="pt-remaining"></span>
            <button class="pt-adhan-btn" title="Play Adhan">๐</button>
            <div class="pt-tooltip"></div>
          </div>
          <div class="prayer-mini" id="pt-dhuhr" data-prayer="dhuhr">
            <span class="pt-name" data-i18n="dhuhr">ุงูุธูุฑ</span>
            <span class="pt-time">--:--</span>
            <span class="pt-remaining"></span>
            <button class="pt-adhan-btn" title="Play Adhan">๐</button>
            <div class="pt-tooltip"></div>
          </div>
          <div class="prayer-mini" id="pt-asr" data-prayer="asr">
            <span class="pt-name" data-i18n="asr">ุงูุนุตุฑ</span>
            <span class="pt-time">--:--</span>
            <span class="pt-remaining"></span>
            <button class="pt-adhan-btn" title="Play Adhan">๐</button>
            <div class="pt-tooltip"></div>
          </div>
          <div class="prayer-mini" id="pt-maghrib" data-prayer="maghrib">
            <span class="pt-name" data-i18n="maghrib">ุงููุบุฑุจ</span>
            <span class="pt-time">--:--</span>
            <span class="pt-remaining"></span>
            <button class="pt-adhan-btn" title="Play Adhan">๐</button>
            <div class="pt-tooltip"></div>
          </div>
          <div class="prayer-mini" id="pt-isha" data-prayer="isha">
            <span class="pt-name" data-i18n="isha">ุงูุนุดุงุก</span>
            <span class="pt-time">--:--</span>
            <span class="pt-remaining"></span>
            <button class="pt-adhan-btn" title="Play Adhan">๐</button>
            <div class="pt-tooltip"></div>
          </div>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats">
          <div class="stat-card">
            <span class="stat-number" id="todayCount">0</span>
            <span class="stat-label" data-i18n="today">ุงูููู</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="streakCount">0</span>
            <span class="stat-label" data-i18n="streak">๐ฅ ุงุณุชูุฑุงุฑูุฉ</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="totalCount">0</span>
            <span class="stat-label" data-i18n="total">ุงูุฅุฌูุงูู</span>
          </div>
        </div>

        <!-- Current Dhikr Card -->
        <div class="dhikr-card" id="currentDhikr">
          <div class="dhikr-category-badge" id="dhikrCategoryBadge">
            ุฃุฐูุงุฑ ุนุงูุฉ
          </div>
          <p class="dhikr-arabic" id="dhikrArabic">
            ุณูุจูุญูุงูู ุงูููููู ููุจูุญูููุฏููู
          </p>
          <p class="dhikr-transliteration" id="dhikrTransliteration">
            SubhanAllahi wa bihamdihi
          </p>
          <p class="dhikr-translation" id="dhikrTranslation">
            How perfect Allah is and I praise Him
          </p>
          <div class="dhikr-meta">
            <span class="dhikr-source" id="dhikrSource">๐ ุตุญูุญ ูุณูู</span>
            <span class="dhikr-times" id="dhikrTimes">๐ ูกูู ูุฑุฉ</span>
          </div>

          <!-- Progress Ring -->
          <div class="counter-section">
            <div class="progress-ring-container">
              <svg class="progress-ring" width="70" height="70">
                <circle class="progress-ring-bg" cx="35" cy="35" r="29" />
                <circle
                  class="progress-ring-fill"
                  id="progressRing"
                  cx="35"
                  cy="35"
                  r="29"
                />
              </svg>
              <span class="counter-text" id="counterText">0</span>
            </div>
            <div class="counter-controls">
              <button class="counter-btn" id="counterBtn" data-i18n="count">
                ุณุจูุญ
              </button>
              <button
                class="counter-btn secondary"
                id="resetBtn"
                data-i18n="reset"
              >
                ุฅุนุงุฏุฉ
              </button>
            </div>
          </div>

          <!-- Audio Controls -->
          <div class="audio-controls">
            <button class="audio-btn" id="playAudioBtn" data-i18n="listen">
              ๐ ุงุณุชูุน
            </button>
          </div>

          <!-- Share Button -->
          <div class="share-section">
            <button class="share-btn" id="shareBtn" data-i18n="share">
              ๐ค ูุดุงุฑูุฉ
            </button>
          </div>
        </div>

        <!-- Next Dhikr Button -->
        <button class="next-btn" id="nextDhikrBtn" data-i18n="nextDhikr">
          โฌ๏ธ ุงูุฐูุฑ ุงูุชุงูู
        </button>

        <!-- Daily Hadith Section -->
        <div class="hadith-section" id="hadithSection">
          <h3 class="hadith-section-title" data-i18n="hadithTitle">
            ๐ ุญุฏูุซ ุงูููู
          </h3>
          <div class="hadith-card" id="hadithCard">
            <div class="hadith-loading" id="hadithLoading">
              <div class="hadith-spinner"></div>
              <span data-i18n="hadithLoading">ุฌุงุฑู ุงูุชุญููู...</span>
            </div>
            <div
              class="hadith-content"
              id="hadithContent"
              style="display: none"
            >
              <p class="hadith-text" id="hadithText"></p>
              <div class="hadith-meta">
                <span class="hadith-attribution" id="hadithAttribution"></span>
                <span class="hadith-grade" id="hadithGrade"></span>
              </div>
            </div>
            <div class="hadith-error" id="hadithError" style="display: none">
              <span>โ๏ธ</span>
              <span data-i18n="hadithError">ุชุนุฐุฑ ุชุญููู ุงูุญุฏูุซ</span>
            </div>
          </div>
          <button
            class="hadith-next-btn"
            id="nextHadithBtn"
            data-i18n="nextHadith"
          >
            ๐ ุญุฏูุซ ุขุฎุฑ
          </button>
        </div>

        <!-- Quick Categories -->
        <div class="quick-categories">
          <h3 data-i18n="quickBrowse">ุชุตูุญ ุณุฑูุน</h3>
          <div class="category-chips" id="categoryChips"></div>
        </div>

        <!-- Display Toggles -->
        <div class="display-toggles-section">
          <h3 data-i18n="displayOptions">๐๏ธ ุฎูุงุฑุงุช ุงูุนุฑุถ</h3>
          <div class="display-toggle-item">
            <span data-i18n="showTransliteration">๐ ุฅุธูุงุฑ ุงููุทู</span>
            <label class="switch">
              <input type="checkbox" id="showTransliterationToggle" checked />
              <span class="slider"></span>
            </label>
          </div>
          <div class="display-toggle-item">
            <span data-i18n="showTranslation">๐ ุฅุธูุงุฑ ุงูุชุฑุฌูุฉ</span>
            <label class="switch">
              <input type="checkbox" id="showTranslationToggle" checked />
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <!-- Reminder Toggle -->
        <div class="reminder-section">
          <div class="reminder-toggle">
            <span data-i18n="autoReminder">๐ ุงูุชุฐููุฑ ุงูุชููุงุฆู</span>
            <label class="switch">
              <input type="checkbox" id="reminderToggle" checked />
              <span class="slider"></span>
            </label>
          </div>
          <div class="interval-selector" id="intervalSelector">
            <label data-i18n="every">ูู:</label>
            <select id="intervalSelect">
              <option value="2" data-i18n="min2">ูข ุฏูุงุฆู</option>
              <option value="5" data-i18n="min5">ูฅ ุฏูุงุฆู</option>
              <option value="10" data-i18n="min10">ูกู ุฏูุงุฆู</option>
              <option value="15" data-i18n="min15">ูกูฅ ุฏูููุฉ</option>
              <option value="30" selected data-i18n="min30">ูฃู ุฏูููุฉ</option>
              <option value="60" data-i18n="hour1">ุณุงุนุฉ</option>
              <option value="120" data-i18n="hour2">ุณุงุนุชูู</option>
            </select>
          </div>
        </div>
      </main>

      <!-- Categories Tab -->
      <div id="categoriesTab" class="tab-content">
        <div class="categories-grid" id="categoriesGrid"></div>
        <div
          id="categoryAzkarList"
          class="category-azkar-list"
          style="display: none"
        >
          <button
            class="back-btn"
            id="backToCategories"
            data-i18n="backToCategories"
          >
            โ ุงูุนูุฏุฉ ููุชุตูููุงุช
          </button>
          <h3 id="categoryTitle"></h3>
          <div id="azkarList" class="azkar-list"></div>
        </div>
      </div>

      <!-- Progress Tab -->
      <div id="progressTab" class="tab-content">
        <div class="progress-overview">
          <h3 data-i18n="progressOverview">๐ ูุธุฑุฉ ุนุงูุฉ</h3>
          <div class="progress-cards">
            <div class="progress-card">
              <div class="progress-card-icon">๐</div>
              <div class="progress-card-info">
                <span class="progress-card-value" id="progressToday">0</span>
                <span class="progress-card-label" data-i18n="today">ุงูููู</span>
              </div>
            </div>
            <div class="progress-card">
              <div class="progress-card-icon">๐</div>
              <div class="progress-card-info">
                <span class="progress-card-value" id="progressWeek">0</span>
                <span class="progress-card-label" data-i18n="thisWeek"
                  >ูุฐุง ุงูุฃุณุจูุน</span
                >
              </div>
            </div>
            <div class="progress-card">
              <div class="progress-card-icon">๐๏ธ</div>
              <div class="progress-card-info">
                <span class="progress-card-value" id="progressMonth">0</span>
                <span class="progress-card-label" data-i18n="thisMonth"
                  >ูุฐุง ุงูุดูุฑ</span
                >
              </div>
            </div>
            <div class="progress-card">
              <div class="progress-card-icon">๐ฅ</div>
              <div class="progress-card-info">
                <span class="progress-card-value" id="progressStreak">0</span>
                <span class="progress-card-label" data-i18n="consecutiveDays"
                  >ุฃูุงู ูุชุชุงููุฉ</span
                >
              </div>
            </div>
          </div>

          <!-- Weekly Chart -->
          <div class="chart-section">
            <h4 data-i18n="last7Days">ุขุฎุฑ ูง ุฃูุงู</h4>
            <div class="bar-chart" id="weeklyChart"></div>
          </div>

          <!-- Insights -->
          <div class="insights-section" id="insightsSection">
            <h4 data-i18n="tipsTitle">๐ก ูุตุงุฆุญ ููุชุทูุฑ ุงูุฑูุญู</h4>
            <div class="insight-card" id="insightCard">
              <p id="insightText"></p>
            </div>
          </div>
        </div>
      </div>

      <!-- Hadith Tab -->
      <div id="hadithTab" class="tab-content">
        <!-- Sub-navigation -->
        <div class="hadith-tab-nav">
          <button
            class="hadith-tab-btn active"
            data-hadith-view="nawawi"
            data-i18n="nawawiTitle"
          >
            ๐ ุงูุฃุฑุจุนูู ุงูููููุฉ
          </button>
          <button
            class="hadith-tab-btn"
            data-hadith-view="categories"
            data-i18n="hadithCategories"
          >
            ๐ ุชุตูููุงุช ุงูุฃุญุงุฏูุซ
          </button>
        </div>

        <!-- 40 Nawawi View -->
        <div class="hadith-view active" id="nawawiView">
          <div class="nawawi-header">
            <h3 data-i18n="nawawiSubtitle">ุงูุฃุฑุจุนูู ุงูููููุฉ</h3>
            <p class="nawawi-desc" data-i18n="nawawiDesc">
              ูุฌููุนุฉ ุงูุฅูุงู ุงููููู ูู ุงูุฃุญุงุฏูุซ ุงูุฌุงูุนุฉ ูุฃุตูู ุงูุฏูู
            </p>
          </div>
          <div class="nawawi-list" id="nawawiList"></div>
        </div>

        <!-- Nawawi Detail View -->
        <div class="hadith-view" id="nawawiDetailView" style="display: none">
          <button class="back-btn" id="backToNawawi" data-i18n="backToNawawi">
            โ ุงูุนูุฏุฉ ูููุงุฆูุฉ
          </button>
          <div class="nawawi-detail-card" id="nawawiDetailCard"></div>
          <div class="nawawi-nav-btns">
            <button class="nawawi-prev-btn" id="nawawiPrevBtn">โ ุงูุณุงุจู</button>
            <button class="nawawi-next-btn" id="nawawiNextBtn">ุงูุชุงูู โ</button>
          </div>
        </div>

        <!-- Categories View -->
        <div class="hadith-view" id="categoriesView" style="display: none">
          <div class="hadith-categories-grid" id="hadithCategoriesGrid"></div>
        </div>

        <!-- Category Hadiths View -->
        <div class="hadith-view" id="categoryHadithsView" style="display: none">
          <button
            class="back-btn"
            id="backToHadithCategories"
            data-i18n="backToCategories"
          >
            โ ุงูุนูุฏุฉ ููุชุตูููุงุช
          </button>
          <h3 id="hadithCategoryTitle" class="hadith-cat-title"></h3>
          <div
            class="hadith-cat-loading"
            id="hadithCatLoading"
            style="display: none"
          >
            <div class="hadith-spinner"></div>
            <span data-i18n="hadithLoading">ุฌุงุฑู ุงูุชุญููู...</span>
          </div>
          <div class="hadith-items-list" id="hadithItemsList"></div>
          <div
            class="hadith-pagination"
            id="hadithPagination"
            style="display: none"
          >
            <button
              class="hadith-page-btn"
              id="hadithPrevPage"
              data-i18n="prevPage"
            >
              โ ุงูุณุงุจู
            </button>
            <span class="hadith-page-info" id="hadithPageInfo"></span>
            <button
              class="hadith-page-btn"
              id="hadithNextPage"
              data-i18n="nextPage"
            >
              ุงูุชุงูู โ
            </button>
          </div>
        </div>

        <!-- Single Hadith Detail View -->
        <div class="hadith-view" id="hadithDetailView" style="display: none">
          <button class="back-btn" id="backToHadithList" data-i18n="backToList">
            โ ุงูุนูุฏุฉ ูููุงุฆูุฉ
          </button>
          <div class="hadith-detail-card" id="hadithDetailCard"></div>
        </div>
      </div>

      <!-- Quran Radio Tab -->
      <div id="radioTab" class="tab-content">
        <div class="radio-container">
          <!-- Now Playing Bar -->
          <div
            class="radio-now-playing"
            id="radioNowPlaying"
            style="display: none"
          >
            <div class="radio-np-info">
              <span class="radio-np-icon">๐ป</span>
              <div class="radio-np-details">
                <span class="radio-np-name" id="radioNpName">---</span>
                <span
                  class="radio-np-status"
                  id="radioNpStatus"
                  data-i18n="radioLive"
                  >ุจุซ ูุจุงุดุฑ</span
                >
              </div>
            </div>
            <div class="radio-np-controls">
              <button class="radio-vol-btn" id="radioVolDown" title="-">
                ๐
              </button>
              <input
                type="range"
                id="radioVolume"
                class="radio-vol-slider"
                min="0"
                max="100"
                value="80"
              />
              <button class="radio-vol-btn" id="radioVolUp" title="+">
                ๐
              </button>
              <button
                class="radio-stop-btn"
                id="radioStopBtn"
                data-i18n="radioStop"
              >
                โน ุฅููุงู
              </button>
            </div>
          </div>

          <!-- Search -->
          <div class="radio-search-box">
            <input
              type="text"
              id="radioSearch"
              class="radio-search-input"
              data-i18n-placeholder="radioSearchPlaceholder"
              placeholder="ุงุจุญุซ ุนู ูุงุฑุฆ..."
            />
          </div>

          <!-- Popular Reciters -->
          <h3 class="radio-section-title" data-i18n="radioPopular">
            โญ ุงููุฑุงุก ุงููุดููุฑูู
          </h3>
          <div class="radio-list" id="radioPopularList"></div>

          <!-- API Stations -->
          <div id="radioStationsSection" style="display: none">
            <h3 class="radio-section-title" data-i18n="radioStations">
              ๐ก ูุญุทุงุช ุฅุฐุงุนูุฉ
            </h3>
            <div class="radio-list" id="radioStationsList"></div>
          </div>

          <!-- Loading -->
          <div class="radio-loading" id="radioLoading" style="display: none">
            <span class="radio-loading-spinner"></span>
            <span data-i18n="radioLoading">ุฌุงุฑู ุงูุชุญููู...</span>
          </div>
        </div>
      </div>

      <!-- Custom Azkar Tab -->
      <div id="customTab" class="tab-content">
        <h3 data-i18n="customAzkar">โ๏ธ ุฃุฐูุงุฑ ูุฎุตุตุฉ</h3>
        <div class="custom-form">
          <div class="form-group">
            <label data-i18n="arabicText">ุงููุต ุงูุนุฑุจู</label>
            <textarea
              id="customArabic"
              data-i18n-placeholder="writeHere"
              placeholder="ุงูุชุจ ุงูุฐูุฑ ููุง..."
              rows="3"
            ></textarea>
          </div>
          <div class="form-group">
            <label data-i18n="transliterationOpt">ุงููุทู (ุงุฎุชูุงุฑู)</label>
            <input
              type="text"
              id="customTransliteration"
              placeholder="Transliteration..."
            />
          </div>
          <div class="form-group">
            <label data-i18n="translationOpt">ุงูุชุฑุฌูุฉ (ุงุฎุชูุงุฑู)</label>
            <input
              type="text"
              id="customTranslation"
              placeholder="Translation..."
            />
          </div>
          <div class="form-group">
            <label data-i18n="sourceOpt">ุงููุตุฏุฑ (ุงุฎุชูุงุฑู)</label>
            <input
              type="text"
              id="customSource"
              placeholder="Source reference..."
            />
          </div>
          <div class="form-group">
            <label data-i18n="repeatCount">ุนุฏุฏ ุงูุชูุฑุงุฑ</label>
            <input
              type="number"
              id="customTimes"
              value="1"
              min="1"
              max="1000"
            />
          </div>
          <button class="add-btn" id="addCustomBtn" data-i18n="addCustomDhikr">
            โ ุฅุถุงูุฉ ุฐูุฑ ูุฎุตุต
          </button>
        </div>
        <div class="custom-list" id="customList"></div>
      </div>
    </div>

    <script type="module" src="popup.js"></script>
  </body>
</html>
